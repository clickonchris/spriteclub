<h1>Create Your Sprite Profile</h1>

<% form_for :contestant,@contestant,
					 :html => { :multipart => true, :id=>"create_sprite_form" },
					 :url=> { :action=>'create'} do |f| %>		
	<%= hidden_field :contest, :id, :value=>params[:contest_id] %>	
	
	<%= f.error_messages %>		 
	<fb:editor-custom>
		<table>
			<tr>
				<td>Sprite Name:</td>
				<td><%= f.text_field :name %>*</td>
			</tr>
			<tr>
				<td>Gender:</td>
				<td><%= f.select :gender, [["-Select-",""], ["Boy","M"], ["Girl","F"]]  %></td>
			</tr>
			<tr>
				<td>Photo:</td>
				<td><%= f.file_field :photo %><br/> (limit 5 Mb.  Need to compress a photo?  try <a href="http://www.picresize.com" target="new">picresize.com</a>)</td>
			</tr>
		</table>		 

	</fb:editor-custom>
  </p>
  <p>
  	<fb:editor-custom>
  	<%	if params[:contest_id]
			buttontext = "Create Sprite and Submit Challenge!"
		else
			buttontext = "Create Sprite!"
		end
	%>
  	<input type="button" class='editorkit_button action' onclick='javascript:submitNewSprite();' value="Create Sprite!"  />
	<img src="/images/ajax.gif" id="ajax_img" style="display:none;" />
	</fb:editor-custom>
  </p>
<% end %>

<script type="text/javascript">
	/**
	 * disables the button and shows a spinny ajax loader while uploading the picture
	 */
	function submitNewSprite() {
		$('#ajax_img').toggle();
		$('#submit').attr('disabled', true);
		$('form:first').submit();
	}
	
</script>
